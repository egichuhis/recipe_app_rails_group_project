<!DOCTYPE html>
<html>
  <head>
    <title>RecipeAppRailsGroupProject</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>

    <% if user_signed_in? %>
    <div class="container">
    <!-- Navbar with User label, Logout button, and Buttons -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light d-flex justify-content-between">

      <!-- Buttons -->
      <div class="d-flex gap-4">
  <%= link_to "Foods", foods_path, class: "btn btn-outline mx-2 #{params[:controller] == 'foods' ? 'active' : ''}" %>
  <%= link_to "Public Recipes", recipes_path, class: "btn btn-outline mx-2 #{params[:controller] == 'recipes' && params[:action] == 'index' ? 'active' : ''}" %>
  <%= link_to "My Recipes", my_recipes_path, class: "btn btn-outline mx-2 #{params[:controller] == 'recipes' && params[:action] == 'my_recipes' ? 'active' : ''}" %>
  <%= link_to "General Shopping List", general_shopping_list_path, class: "btn btn-outline mx-2 #{params[:controller] == 'shopping_list' && params[:action] == 'general' ? 'active' : ''}" %>
</div>


      <div class="d-flex gap-4">
        <!-- User label -->
        <p class="navbar-text text-muted mr-3">
          Welcome, <%= @current_user.name %>
        </p>

        <!-- Logout button -->
        <form class="form-inline my-2 mx-2">
          <%= link_to "Logout", destroy_user_session_path, method: :delete, class: "btn btn-sm btn-dark" %>
        </form>

      </div>
      
    </nav>
    </div>
  <% end %>

  <div class="container">
    <!-- Notice and Alert messages -->
    <p class="notice text-success ml-5"><%= notice %></p>
    <p class="alert text-danger ml-5"><%= alert %></p>
  </div>

    <%= yield %>
  </body>
</html>
